(function(e){e.infobox=function(t,i){var o=this;var n={position:"bottom",width:t.config.width,height:130,template:'<div class="infobox"><a href="{{user_url}}"><img class="portrait" src="{{user_portrait_medium}}"/></a><div class="title"><a href="{{url}}" title="{{title}}">{{title|truncate:20}}</a></div><div class="byline">from <a href="{{user_url}}">{{user_name}}</a> <time datetime="{{upload_date}}">{{upload_date|timesince}} ago</time></div><p class="desc">{{description|truncate:100}}</p></div>',style:""};i=e.utils.extend(n,i);this.config=i;this.setup=function(){var o="#{{id}} { overflow:hidden; }"+"#{{id}} a { color: #{{color}}; text-decoration:none; }"+"#{{id}} a:hover { color:#F75342; }"+"#{{id}} .infobox { background-color:#F4F5F7; border:1px solid #E9EBEF; font:normal 14px helvetica,arial,sans-serif; padding:10px; }"+"#{{id}} .portrait { border:1px solid #E1E2E3; background-color:#fff; float:left; padding:2px; margin:0 10px 13px 0; width:52px; height:52px; }"+"#{{id}} .title { font-size:30px; font-weight:700; }"+"#{{id}} .byline a { color:#000; font-weight:700; }"+"#{{id}} .byline time { color:#9DA2A8; font-size:11px; }"+"#{{id}} .desc { clear:both; color:#71767A; font-size:16px; margin:0; }";o+=i.style;var n=document.createTextNode(o.populate({id:t.id+"_infobox",color:t.config.color}));var r=document.createElement("style");r.type="text/css";e.utils.prepend(r,document.getElementsByTagName("head")[0]);if(r.styleSheet){r.styleSheet.cssText=n.nodeValue}else{r.appendChild(n)}div=document.createElement("div");div.id=t.id+"_infobox";t.container.appendChild(div);e.utils.css(div,{width:i.width,height:i.height,position:"absolute",left:i.x,top:i.y});t.events.playlistItem.add(a)};function a(e){div.innerHTML=i.template.populate(e,{truncate:function(e,t){if(e.length>t){e=e.slice(0,t)+"..."}return e},timesince:function(e){var t={second:((new Date).getTime()-new Date(e).getTime())/1e3};var i=["second","minute","hour","day","week","month","year"];var o=[1,60,60,24,7,4.34812,12];for(var n=1;n<i.length;n++){t[i[n]]=t[i[n-1]]/o[n];if(t[i[n-1]]<o[n]){var a=Math.floor(t[i[n-1]]);return a+" "+i[n-1]+(a===1?"":"s")}}}})}}})(vimeowrap)