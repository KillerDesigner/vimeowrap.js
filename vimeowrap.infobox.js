(function(e){e.infobox=function(t,i){var o=this;var r={position:"bottom",width:t.config.width,height:130,template:'<a href="{{user_url}}"><img class="portrait" src="{{user_portrait_medium}}"/></a><div class="title"><a href="{{url}}" title="{{title}}">{{title|truncate:20}}</a></div><div class="byline">from <a href="{{user_url}}">{{user_name}}</a> <time datetime="{{upload_date}}">{{upload_date|timesince}} ago</time></div><p class="desc">{{description|truncate:100}}</p>',style:""};i=e.utils.extend(r,i);this.config=i;this.setup=function(){var o="#{{id}} { box-sizing:border-box; -moz-box-sizing:border-box; -webkit-box-sizing:border-box; background-color:#F4F5F7; border:1px solid #E9EBEF; font:normal 14px helvetica,arial,sans-serif; padding:10px; overflow:hidden; }"+"#{{id}} a { color: #{{color}}; text-decoration:none; }"+"#{{id}} a:hover { color:#F75342; }"+"#{{id}} .portrait { border:1px solid #E1E2E3; background-color:#fff; float:left; padding:2px; margin:0 10px 13px 0; width:52px; height:52px; }"+"#{{id}} .title { font-size:30px; font-weight:700; }"+"#{{id}} .byline a { color:#000; font-weight:700; }"+"#{{id}} .byline time { color:#9DA2A8; font-size:11px; }"+"#{{id}} .desc { clear:both; color:#71767A; font-size:16px; margin:0; }";o+=i.style;var r=document.createTextNode(o.populate({id:t.id+"_infobox",color:t.config.color}));var a=document.createElement("style");a.type="text/css";e.utils.prepend(a,document.getElementsByTagName("head")[0]);if(a.styleSheet){a.styleSheet.cssText=r.nodeValue}else{a.appendChild(r)}div=document.createElement("div");div.id=t.id+"_infobox";t.container.appendChild(div);e.utils.css(div,{width:i.width,height:i.height,position:"absolute",left:i.x,top:i.y});t.events.playlistItem.add(n)};function n(e){div.innerHTML=i.template.populate(e,{truncate:function(e,t){if(e.length>t){e=e.slice(0,t)+"..."}return e},timesince:function(e){var t={second:((new Date).getTime()-new Date(e).getTime())/1e3};var i=["second","minute","hour","day","week","month","year"];var o=[1,60,60,24,7,4.34812,12];for(var r=1;r<i.length;r++){t[i[r]]=t[i[r-1]]/o[r];if(t[i[r-1]]<o[r]){e=Math.floor(t[i[r-1]]);return e+" "+i[r-1]+(e===1?"":"s")}}e=Math.floor(t[i[r-1]]);return e+" "+i[r-1]+(e===1?"":"s")}})}}})(vimeowrap)