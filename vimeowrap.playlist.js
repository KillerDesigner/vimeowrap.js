!function(t,e){function i(i){"ontouchstart"in t&&(this.element="object"==typeof i?i:e.getElementById(i),this.element.addEventListener("touchstart",this,!1),this.element.addEventListener("click",this,!0))}i.prototype={handleEvent:function(t){this[t.type](t)},touchstart:function(t){this.moved=!1,this.target=e.elementFromPoint(t.targetTouches[0].clientX,t.targetTouches[0].clientY),3==this.target.nodeType&&(this.target=target.parentNode),this.element.addEventListener("touchmove",this,!1),this.element.addEventListener("touchend",this,!1)},touchmove:function(){this.moved=!0,this.target.className=this.target.className.replace(/ ?pressed/gi,"")},touchend:function(t){if(t.preventDefault(),this.element.removeEventListener("touchmove",this,!1),this.element.removeEventListener("touchend",this,!1),!this.moved&&this.target){this.target.className+=" pressed";var i=this.target;setTimeout(function(){i.className=i.className.replace(/ ?pressed/gi,"")},150);var o=e.createEvent("MouseEvents");o.initEvent("click",!0,!0),this.target.dispatchEvent(o)}this.target=void 0},click:function(t){void 0===this.target&&(t.stopImmediatePropagation(),t.preventDefault())}},vimeowrap.playlist=function(o,s){function n(t){f.length=t.length;for(var i={striptags:function(t){return t.replace(/<\/?.*?>/g,"")},truncate:function(t,e){return t.length>e&&(t=t.slice(0,e)+"..."),t},timesince:function(t){for(var e=new Date(t.replace(/-/g,"/")).getTime(),i={second:((new Date).getTime()-e)/1e3},o=["second","minute","hour","day","week","month","year"],s=[1,60,60,24,7,4.34812,12],n=1;n<o.length;n++)if(i[o[n]]=i[o[n-1]]/s[n],i[o[n-1]]<s[n])return t=Math.floor(i[o[n-1]]),t+" "+o[n-1]+(1===t?"":"s");return t=Math.floor(i[o[n-1]]),t+" "+o[n-1]+(1===t?"":"s")},time:function(t){var e=Math.floor(t/3600),i=Math.floor(t%3600/60),o=Math.floor(t%3600%60);return(0===e?"":e.toString()+":")+i.toString()+":"+(10>o?"0"+o.toString():o.toString())}},o=[],n=s.template,l=0;l<t.length;l++)o.push("<li>"),o.push(n.populate(t[l],i)),o.push("</li>");var a=e.getElementById(r.id+"_list");a.innerHTML=o.join(""),c.redraw()}function l(e){var i=e||t.event,n=i.target||i.srcElement;if(n&&"li"!==n.nodeName.toLowerCase())for(;n&&(n=n.parentNode,"li"!==n.nodeName.toLowerCase()););for(var l=0,a=n.parentNode.children,r=0;r<a.length&&(l=r,a[r]!==n);r++);return l!==o.config.item&&o.playlistItem(l,s.autoplay),!1}function a(t,e){for(var i=h.children,o=0;o<i.length;o++)i[o].className=i[o].className.replace(/ ?selected/gi,"");i[e].className+=" selected"}var r,h,c,f=this,d={position:"bottom",size:200,offsetx:2,offsety:2,autoplay:!1,template:'<a href="{{url}}" title="{{title}}"><span class="shade"></span><span class="border"></span><img src="{{thumbnail_'+(s.thumb&&s.thumb.quality?s.thumb.quality:"small")+'}}" alt="" /><span class="title">{{title|truncate:30}}</span><span class="byline">from <b>{{user_name}}</b> <time datetime="{{upload_date}}">{{upload_date|timesince}} ago</time></span><span class="desc">{{description|striptags|truncate:50}}</span><span class="duration">{{duration|time}}</span></a>',style:"",thumb:{width:80,height:60}};s=vimeowrap.utils.extend(d,s),this.config=s,this.setup=function(){var f=["#{{id}} {background-color:#000; color:#fff; font:normal 12px/14px helvetica,arial,sans-serif; -webkit-tap-highlight-color:rgba(0,0,0,0);}","ul {list-style:none; margin:0; padding:0 9px 0 0;}","li {list-style:none; clear:both; display:block; height:{{thumb_height}}px; line-height:16px; margin:0 0 2px; padding:0; overflow:hidden;}","li:last-child {margin:0;}","li.selected {opacity:.4; filter:alpha(opacity=40);}","li:nth-child(odd) > a {background-color:rgba(255,255,255,.07);}","li > a {display:block; position:relative; height:{{thumb_height}}px; text-decoration:none;}","a:active, #{{id}} a:focus {outline:none;}","span {color:#fff; display:block;}",".shade {position:absolute; top:0; right:0; bottom:0; left:0;}","img {border:none; float:left; width:{{thumb_width}}px; height:{{thumb_height}}px; margin:0 7px 0 0;}",".border {box-sizing:border-box; -moz-box-sizing:border-box; -webkit-box-sizing:border-box; position:absolute; left:0; top:0; border-right:rgba(255, 255, 255, .1) 1px solid; width:{{thumb_width}}px; height:{{thumb_height}}px;}",".title {font-weight:bold; padding-top:5px; font-size:14px;}",".byline {color:#9DA2A8;}",".byline time {font-size:11px;}",".desc {color:#71767A;}",".duration {position:absolute; top:3px; right:7px;}"];"ontouchstart"in t?f.push("li .pressed {background-color:rgba(255,255,255,0.15);}"):(f.push("li > a:hover {background-color:rgba(255,255,255,0); text-decoration:none;}"),f.push("li > a:hover .shade {background-color:rgba(255,255,255,0.15);}")),f=f.join(" #{{id}} "),f+=s.style;var d=e.createTextNode(f.populate({id:o.id+"_playlist",color:o.config.color,thumb_width:s.thumb.width,thumb_height:s.thumb.height})),u=e.createElement("style");u.type="text/css",vimeowrap.utils.prepend(u,e.getElementsByTagName("head")[0]),u.styleSheet?u.styleSheet.cssText=d.nodeValue:u.appendChild(d),r=e.createElement("div"),r.id=o.id+"_playlist",o.container.appendChild(r),vimeowrap.utils.css(r,{width:this.width,height:this.height,position:"absolute",left:this.x,top:this.y}),new i(r);var p=e.createElement("div");p.id=r.id+"_wrap",r.appendChild(p),vimeowrap.utils.css(p,{width:this.width-2*s.offsetx,height:this.height-2*s.offsety,position:"absolute",left:s.offsetx,top:s.offsety}),h=e.createElement("ul"),h.id=r.id+"_list",p.appendChild(h),vimeowrap.utils.css(h,{position:"absolute"}),h.onclick=l,c=new SkinnyScroll(p),o.events.playlist.add(n),o.events.playlistItem.add(a)}},function(i){var o=function(i,s){var n=null;this.hasTouch="ontouchstart"in t,this.config={color:"#fff",radius:7,width:7};for(var l in s)this.config[l]=s[l];var a="object"==typeof i?i:e.getElementById(i);o.Utils.css(a,{overflow:"hidden"});var r=a.children[0];o.Utils.css(r,{position:"absolute",left:0,top:0,right:0}),this.hasTouch?n=new o.TouchMode(this,a,r):(o.Utils.css(r,{overflow:"hidden",bottom:0}),n=new o.MouseMode(this,a,r)),n.redraw(),o.Utils.on(t,"resize",n.redraw),this.scrollTop=function(t){return n.scrollTop(t)},this.redraw=function(){return n.redraw()},this.destroy=function(){o.Utils.off(t,"resize",n.redraw),n.destroy()}};i.SkinnyScroll=o}(t),function(t){t.MouseMode=function(e,i,o){function s(t,e){t.preventDefault?t.preventDefault():t.returnValue=!1,n.scrollTop(n.scrollTop()-20*e)}var n=this,l=new t.Scrollbar(e,i,!0),a=new t.Mousewheel(i);a.on(s),this.scrollTop=function(t){return void 0===t?-o.scrollTop:(o.scrollTop=-t,void l.setY(o.scrollTop))},this.redraw=function(){var t=l.redraw(o.scrollHeight,o.offsetHeight);return n.scrollTop(n.scrollTop()),t},this.destroy=function(){a.off(s),l.destroy()}}}(SkinnyScroll),function(e){e.TouchMode=function(i,o,s){function n(){clearInterval(l),s.style.WebkitTransitionDuration="0s"}var l,a=this,r=new e.Scrollbar(i,o),h="WebKitCSSMatrix"in t,c=h&&"m11"in new WebKitCSSMatrix;this.wrap=o,this.view=s,this.x=0,this.y=0,e.Utils.on(s,"touchstart",this),e.Utils.on(s,"webkitTransitionEnd",n),s.style.WebkitTransition="-webkit-transform 1s cubic-bezier(0,0,0.2,1)",this.scrollTop=function(t){return void 0===t?(this.clampY(),this.y):(this.setY(t),void r.setY(-t))},this.setY=function(t){this.y=t,s.style.WebkitTransform=c?"translate3d(0, "+t+"px, 0)":"translate(0, "+t+"px)"},this.getY=function(){if(h){var e=t.getComputedStyle(this.view).webkitTransform;if(e&&"none"!==e){var i=new WebKitCSSMatrix(e);return i.f}}return this.y},this.redraw=function(){var t=r.redraw(s.offsetHeight,o.offsetHeight);return a.scrollTop(a.scrollTop()),t},this.destroy=function(){e.Utils.off(s,"touchstart",this),e.Utils.off(s,"webkitTransitionEnd",n),s.style.WebkitTransition="",r.destroy()},this.animateScrollbar=function(){clearInterval(l),l=setInterval(function(){r.setY(-a.getY())},1e3/30)}},e.TouchMode.prototype={handleEvent:function(t){this[t.type](t)},touchstart:function(t){this.view.offsetHeight>this.wrap.offsetHeight&&(this.moved=!1,this.startX=t.touches[0].pageX-this.x,this.startY=t.touches[0].pageY-this.y,this.view.style.WebkitTransitionDuration="0s",e.Utils.on(this.view,"touchmove",this),e.Utils.on(this.view,"touchend",this))},touchmove:function(t){this.lastX=this.x,this.lastY=this.y,this.x=t.touches[0].pageX-this.startX,this.y=t.touches[0].pageY-this.startY,1===t.touches.length&&Math.abs(this.y-this.lastY)>Math.abs(this.x-this.lastX)&&(t.preventDefault(),this.moved=!0,this.lastMoveTime=(new Date).getTime(),this.scrollTop(this.y))},touchend:function(t){if(e.Utils.off(this.view,"touchmove",this),e.Utils.off(this.view,"touchend",this),this.moved){t.preventDefault();var i=this.y-this.lastY,o=(new Date).getTime()-this.lastMoveTime+1;this.y=this.y+200*i/o,this.view.style.WebkitTransitionDuration=this.clampY()?"0.5s":"1s",this.setY(this.y),this.animateScrollbar()}},clampY:function(){return 0>this.y?this.wrap.offsetHeight-this.view.offsetHeight>this.y?(this.y=this.wrap.offsetHeight-this.view.offsetHeight,!0):void 0:(this.y=0,!0)}}}(SkinnyScroll),function(i){i.Mousewheel=function(t){var i=this;i.el="object"==typeof t?t:e.getElementById(t),i.calls=[],i.t=function(t){i.to(t)}},i.Mousewheel.prototype={on:function(t){0===this.calls.length&&i.Utils.on(this.el,"DOMMouseScroll mousewheel",this.t),this.calls.push(t)},off:function(t){if(t)for(var e=0;this.calls.length>e;e++)this.calls[e]===t&&(this.calls.splice(e,1),e--);else this.calls=[];0===this.calls.length&&i.Utils.off(this.el,"DOMMouseScroll mousewheel",this.t)},to:function(e){e=e||t.event;var i=0;e.wheelDelta&&(i=-e.wheelDelta/120),e.detail&&(i=e.detail/3);var o=[].slice.call(arguments,1);o.unshift(e,i);for(var s=0;this.calls.length>s;s++)"function"==typeof this.calls[s]&&this.calls[s].apply(this,o)}}}(SkinnyScroll),function(i){i.Scrollbar=function(o,s,n){function l(o){o=o||t.event,h(o),o.preventDefault&&o.preventDefault(),i.Utils.on(e,"mousemove",a),i.Utils.on(e,"mouseup",r),i.Utils.on(c.hand,"mouseup",r),c.diff=o.pageY-c.hand.offsetTop}function a(e){return e=e||t.event,h(e),o.scrollTop(-(e.pageY-c.diff)*c.ratio),!1}function r(o){o=o||t.event,i.Utils.off(e,"mousemove",a),i.Utils.off(e,"mouseup",r),i.Utils.off(c.hand,"mouseup",r)}function h(t){if(void 0===t.pageX&&void 0!==t.clientX){var i=e.documentElement,o=e.body;t.pageX=t.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),t.pageY=t.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)}}var c=this,f=o.config.color,d=o.config.radius,u=o.config.width;s="object"==typeof s?s:e.getElementById(s),this.rail=i.Utils.add("div",s,{position:"absolute",right:0,top:0,bottom:0,width:u,zIndex:90}),this.rail.className="skinnyscrollbar",this.back=i.Utils.add("div",this.rail,{backgroundColor:f,filter:"alpha(opacity=20)",opacity:.2,borderRadius:d,position:"absolute",left:0,top:0,bottom:0,width:u}),this.hand=i.Utils.add("div",this.rail,{backgroundColor:f,filter:"alpha(opacity=40)",opacity:.4,borderRadius:d,position:"absolute",left:0,top:0,width:u,height:7}),this.diff=i.Utils.getOffset(this.hand).top,n&&(i.Utils.on(this.hand,"mousedown",l),i.Utils.on(this.rail,"mousedown",a))},i.Scrollbar.prototype={redraw:function(t,e){var i=t>e;return this.rail.style.display=i?"block":"none",this.scrollHeight=t,this.height=e,this.handHeight=Math.max(e/t*this.rail.offsetHeight,25),this.ratio=(t-e)/(this.rail.offsetHeight-this.handHeight),i},destroy:function(){var t=this.rail.parentNode;t&&t.removeChild(this.rail)},setY:function(t){var e=t/this.ratio;isNaN(e)&&(e=0);var i=e+this.handHeight-this.rail.offsetHeight,o=this.hand.style;0>t?(o.height=Math.max(this.handHeight+e,25)+"px",o.top="0px"):i>0?(o.height=Math.max(this.handHeight-i,25)+"px",o.bottom="0px",o.top="auto"):(o.height=this.handHeight+"px",o.top=e+"px")}}}(SkinnyScroll),function(t){t.Utils=function(){},t.Utils.add=function(i,o,s){var n=e.createElement(i);return o.appendChild(n),t.Utils.css(n,s),n},t.Utils.css=function(t,e){if(t)for(var i in e)if(void 0!==e[i]){if("number"==typeof e[i]&&"zIndex"!=i&&"opacity"!=i){if(isNaN(e[i]))continue;e[i]=Math.ceil(e[i])+"px"}try{t.style[i]=e[i]}catch(o){}}},t.Utils.getOffset=function(t){for(var e=0,i=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)e+=t.offsetLeft-t.scrollLeft,i+=t.offsetTop-t.scrollTop,t=t.offsetParent;return{top:i,left:e}},t.Utils.on=function(t,e,i){if(null!==t&&void 0!==t)for(var o=e.split(" "),s=0;o.length>s;s++)t.addEventListener?t.addEventListener(o[s],i,!1):t.attachEvent?t.attachEvent("on"+o[s],i):t["on"+o[s]]=i},t.Utils.off=function(t,e,i){if(null!==t&&void 0!==t)for(var o=e.split(" "),s=0;o.length>s;s++)t.removeEventListener?t.removeEventListener(o[s],i,!1):t.detachEvent?t.detachEvent("on"+o[s],i):t["on"+o[s]]=null}}(SkinnyScroll)}(window,document);