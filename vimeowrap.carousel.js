/*

 Vimeo Wrap - Carousel plugin

 Author: Wesley Luyten
 Version: 1.0 - (2012/03/18)
*/
(function(c){c.carousel=function(f,a){function m(b){d.length=b.length;for(var k=[],i=a.template,e=0;e<b.length;e++)k.push("<li>"),k.push(i.populate(b[e])),k.push("</li>");e=a.width-2*a.offsetx;d.visible=0<a.visible?a.visible:Math.floor(e/a.thumb.width);var i=Math.round((e-d.visible*a.thumb.width)/Math.max(d.visible-1,1)),f=document.getElementById(g.id+"_list");f.innerHTML=k.join("");k=f.getElementsByTagName("li");for(e=0;e<k.length;e++)c.utils.css(k[e],{styleFloat:"left",cssFloat:"left",width:a.thumb.width,
marginRight:i});d.offset=a.thumb.width+i;c.utils.css(f,{width:b.length*d.offset})}function j(b){b=b||window.event;if((b=b.target||b.srcElement)&&"li"!==b.nodeName.toLowerCase())for(;b&&!(b=b.parentNode,"li"===b.nodeName.toLowerCase()););for(var c=0,d=b.parentNode.children,e=0;e<d.length&&!(c=e,d[e]===b);e++);c!==f.config.item&&f.playlistItem(c,a.autoplay);return!1}function h(){l.style.left=d.x+"px"}var d=this,g,l;this.config=a=c.utils.extend({position:"bottom",width:f.config.width,height:130,offsetx:50,
offsety:10,autoplay:!1,template:'<div><a href="#vimeo.com/{{id}}" title="{{title}}"><img src="{{thumbnail|'+(a.thumb&&a.thumb.quality?a.thumb.quality:"small")+'}}" alt="" /><span>{{title}}</span></a></div>',easing:TWEEN.Easing.Exponential.EaseInOut,speed:250,thumb:{width:100,height:75}},a);this.length=this.offset=this.position=this.visible=this.x=0;TWEEN.start();this.setup=function(){var b=a.fontdir||"http://luwes.co/vimeowrap.js/fonts/",b="@font-face {font-family:'Pictish'; src:url('"+b+"pictish.eot'); src:url('"+
b+"pictish.eot?#iefix') format('embedded-opentype'), url('"+b+"pictish.woff') format('woff'), url('"+b+"pictish.ttf') format('truetype'), url('"+b+"pictish.svg#PictishRegular') format('svg'); font-weight:normal; font-style:normal;}#{{id}} a {text-decoration:none;}#{{id}} a:active, #{{id}} a:focus {outline:none;}#{{id}} {font:bold 12px/14px helvetica,arial,sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);}#{{id}} ul li {line-height:14px;overflow:hidden;text-align:center;}#{{id}} ul li a {color:#{{color}};}#{{id}} ul li a img {border:none;width:{{thumb_width}}px;height:{{thumb_height}}px;}#{{id}}_navleft, #{{id}}_navright {color:#000;display:block;font-family:'Pictish';font-size:19px;position:absolute;top:32px;width:20px;height:19px;padding:10px;}#{{id}}_navright {right:0;}",
b=("ontouchstart"in window?b+"#{{id}} ul li a.pressed {color:#F75342;}#{{id}}_navleft.pressed, #{{id}}_navright.pressed {color:#{{color}};}":b+"#{{id}} ul li a:hover {color:#F75342;}#{{id}}_navleft:hover, #{{id}}_navright:hover {color:#{{color}};}")+a.style,b=document.createTextNode(b.populate({id:f.id+"_carousel",color:f.config.color,thumb_width:a.thumb.width,thumb_height:a.thumb.height})),d=document.createElement("style");d.type="text/css";document.getElementsByTagName("head")[0].appendChild(d);
d.styleSheet?d.styleSheet.cssText=b.nodeValue:d.appendChild(b);g=document.createElement("div");g.id=f.id+"_carousel";f.container.appendChild(g);c.utils.css(g,{width:a.width,height:a.height,position:"absolute",left:a.x,top:a.y});new c.carousel.NoClickDelay(g);b=document.createElement("div");b.id=g.id+"_wrap";g.appendChild(b);c.utils.css(b,{width:a.width-2*a.offsetx,height:a.height-a.offsety,overflow:"hidden",position:"absolute",left:a.offsetx,top:a.offsety});l=document.createElement("ul");l.id=g.id+
"_list";b.appendChild(l);c.utils.css(l,{height:a.height,position:"absolute","list-style-type":"none",margin:0,padding:0});l.onclick=j;b=document.createElement("a");b.id=g.id+"_navleft";b.href="#left";b.innerHTML="<span>[</span>";g.appendChild(b);b.onclick=this.left;b=document.createElement("a");b.id=g.id+"_navright";b.href="#right";b.innerHTML="<span>]</span>";g.appendChild(b);b.onclick=this.right;f.events.playlist.add(m)};this.left=function(){0<d.position&&d.to(d.position-d.visible);return!1};this.right=
function(){d.position<d.length-d.visible&&d.to(d.position+d.visible);return!1};this.to=function(b){d.position=b;(new TWEEN.Tween(d)).to({x:-b*d.offset},a.speed).onUpdate(h).easing(a.easing).start();return!1}}})(vimeowrap);(function(c){function f(a){"ontouchstart"in window&&(this.element="object"===typeof a?a:document.getElementById(a),this.element.addEventListener("touchstart",this,!1),this.element.addEventListener("click",this,!0))}f.prototype={handleEvent:function(a){this[a.type](a)},touchstart:function(a){this.moved=!1;this.theTarget=document.elementFromPoint(a.targetTouches[0].clientX,a.targetTouches[0].clientY);3==this.theTarget.nodeType&&(this.theTarget=theTarget.parentNode);this.theTarget.className+=" pressed";
this.element.addEventListener("touchmove",this,!1);this.element.addEventListener("touchend",this,!1)},touchmove:function(){this.moved=!0;this.theTarget.className=this.theTarget.className.replace(/ ?pressed/gi,"")},touchend:function(){this.element.removeEventListener("touchmove",this,!1);this.element.removeEventListener("touchend",this,!1);if(!this.moved&&this.theTarget){this.theTarget.className=this.theTarget.className.replace(/ ?pressed/gi,"");var a=document.createEvent("MouseEvents");a.initEvent("click",
!0,!0);this.theTarget.dispatchEvent(a)}this.theTarget=void 0},click:function(a){void 0===this.theTarget&&(a.stopImmediatePropagation(),a.preventDefault())}};c.NoClickDelay=f})(vimeowrap.carousel);/*

 @author sole / http://soledadpenades.com
 @author mr.doob / http://mrdoob.com
 @author Robert Eisele / http://www.xarg.org
 @author Philippe / http://philippe.elsass.me
 @author Robert Penner / http://www.robertpenner.com/easing_terms_of_use.html
 @author Paul Lewis / http://www.aerotwist.com/
 @author lechecacharro
 @author Josh Faul / http://jocafa.com/
*/
var TWEEN=TWEEN||function(){var c,f,a=60,m=!1,j=[],h;return{setFPS:function(d){a=d||60},start:function(d){0!==arguments.length&&this.setFPS(d);f=setInterval(this.update,1E3/a)},stop:function(){clearInterval(f)},setAutostart:function(a){(m=a)&&!f&&this.start()},add:function(a){j.push(a);m&&!f&&this.start()},getAll:function(){return j},removeAll:function(){j=[]},remove:function(a){c=j.indexOf(a);-1!==c&&j.splice(c,1)},update:function(a){c=0;h=j.length;for(a=a||(new Date).getTime();c<h;)j[c].update(a)?
c++:(j.splice(c,1),h--);0===h&&!0===m&&this.stop()}}}();
TWEEN.Tween=function(c){var f={},a={},m={},j=1E3,h=0,d=null,g=TWEEN.Easing.Linear.EaseNone,l=null,b=null,k=null;this.to=function(a,b){null!==b&&(j=b);for(var d in a)null!==c[d]&&(m[d]=a[d]);return this};this.start=function(b){TWEEN.add(this);d=b?b+h:(new Date).getTime()+h;for(var e in m)null!==c[e]&&(f[e]=c[e],a[e]=m[e]-c[e]);return this};this.stop=function(){TWEEN.remove(this);return this};this.delay=function(a){h=a;return this};this.easing=function(a){g=a;return this};this.chain=function(a){l=a;
return this};this.onUpdate=function(a){b=a;return this};this.onComplete=function(a){k=a;return this};this.update=function(i){var e,h;if(i<d)return!0;i=(i-d)/j;i=1<i?1:i;h=g(i);for(e in a)c[e]=f[e]+a[e]*h;null!==b&&b.call(c,h);return 1==i?(null!==k&&k.call(c),null!==l&&l.start(),!1):!0}};TWEEN.Easing={Linear:{},Quadratic:{},Cubic:{},Quartic:{},Quintic:{},Sinusoidal:{},Exponential:{},Circular:{},Elastic:{},Back:{},Bounce:{}};
TWEEN.Easing.Exponential.EaseIn=function(c){return 0===c?0:Math.pow(2,10*(c-1))};TWEEN.Easing.Exponential.EaseOut=function(c){return 1==c?1:-Math.pow(2,-10*c)+1};TWEEN.Easing.Exponential.EaseInOut=function(c){return 0===c?0:1==c?1:1>(c*=2)?0.5*Math.pow(2,10*(c-1)):0.5*(-Math.pow(2,-10*(c-1))+2)};
