!function(e,t){var n=function(e,t,n,o){function i(e){l.element.style.opacity=""+e,l.element.style.filter="alpha(opacity="+Math.round(100*e)+")",l.opacity=e,l.element.style.display="none",repaint=l.element.offsetHeight,l.element.style.display=""}this.element=e,this.time=t||1e3,this.dark=n||.8,this.opacity=0;var a,l=this,s="opacity"in this.element.style;s||(this.element.style.zoom=1),this.off=function(){"function"==typeof o&&o(),l.element.style.display="block",clearInterval(a);var e=(new Date).getTime(),t=l.opacity;a=setInterval(function(){var n=((new Date).getTime()-e)/l.time;n>=1&&(n=1,clearInterval(a)),i(l.dark*n+t*(1-n))},1e3/60)},this.on=function(){clearInterval(a);var e=(new Date).getTime(),t=l.opacity;a=setInterval(function(){var n=((new Date).getTime()-e)/l.time;n>=1&&(n=1,clearInterval(a),l.element.style.display="none"),i(0*n+t*(1-n))},1e3/60)},this.toggle=function(){l.opacity<.5?l.off():l.on()}};vimeowrap.lightsout=function(e,o){function i(){e.pause(),c.on()}function a(){"off"==o.onplay?c.off():c.on()}function l(){"off"==o.onpause?c.off():c.on()}function s(){"off"==o.onfinish?c.off():c.on()}function y(){var t=vimeowrap.getPlayers();for(var n in t)t[n].display.style.zIndex="auto";e.display.style.zIndex=301}var f,c,p={backgroundcolor:"000000",opacity:.8,time:800,onplay:"off",onpause:"on",onfinish:"on",parentid:null};o=vimeowrap.utils.extend(p,o),this.config=o,this.setup=function(){f=t.createElement("div"),f.className+=" lightsout_shade",f.style.display="none",f.style.backgroundColor="#"+o.backgroundcolor,f.style.zIndex=300,f.style.opacity=0,f.style.filter="alpha(opacity=0)",f.style.top=0,f.style.left=0,f.style.bottom=0,f.style.right=0,o.parentid?(f.style.position="absolute",t.getElementById(o.parentid).style.position="relative",t.getElementById(o.parentid).appendChild(f)):(f.style.position="fixed",t.body.appendChild(f)),f.onclick=i,c=new n(f,o.time,o.opacity,y),this.on=c.on,this.off=c.off,this.toggle=c.toggle,e.events.playerReady.add(function(){e.onPlay(a),e.onPause(l),e.onFinish(s)})}}}(window,document);