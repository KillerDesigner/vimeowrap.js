(function(e){var t={};var i=function(e){var n;if(e.nodeType){n=e}else if(typeof e==="string"){n=document.getElementById(e)}if(n){var a=t[n.id];if(a){return a}else{return t[n.id]=new i.api(n)}}return null};i.getPlayers=function(){return t};i.api=function(e){var t=this,n=null,a=null;this.container=e;this.id=e.id;this.display=null;this.iframe=null;this.player=null;this.config=null;this.plugins={};this.events={playerReady:new i.signal,playlist:new i.signal,playlistItem:new i.signal};this.setup=function(e){var t={width:480,height:280,color:"00adef",repeat:"none",item:0,api:true,player_id:i.utils.uniqueId("player_")};a=i.utils.extend(t,e);this.config=a;this.container.innerHTML="";var n={x:0,y:0,width:a.width,height:a.height};var l=null;for(var s in a.plugins){if(typeof i[s]==="function"){l=this.plugins[s]=new i[s](this,a.plugins[s]);switch(l.config.position){case"left":case"right":n.width+=l.config.size||0;l.width=l.config.size;l.height=a.height;break;default:n.height+=l.config.size||0;l.width=a.width;l.height=l.config.size}}}i.utils.css(this.container,{position:"relative",width:n.width,height:n.height});for(s in this.plugins){l=this.plugins[s];switch(l.config.position){case"left":l.x=n.x;n.x+=l.width;n.width-=l.width;break;case"right":l.x=n.x+n.width-l.width;n.width-=l.width;break;case"top":l.y=n.y;n.y+=l.height;n.height-=l.height;break;case"bottom":l.y=n.y+n.height-l.height;n.height-=l.height;break}this.plugins[s].setup()}this.display=document.createElement("div");this.display.id=this.id+"_display";this.container.appendChild(this.display);i.utils.css(this.display,{background:"#000000",width:n.width,height:n.height,position:"absolute",left:n.x,top:n.y});this.events.playlist.add(r);var o=new i.playlistloader(this);o.load(a.urls);return this};function r(e){n=e;var i=n[a.item];t.events.playlistItem.dispatch(i,a.item);l(i.url)}function l(e){i.utils.jsonp("http://vimeo.com/api/oembed.json",s({url:e}),function(e){var n=document.createElement("div");n.innerHTML=e.html;t.iframe=n.children[0];t.iframe.id=a.player_id;i.utils.css(t.iframe,{position:"absolute",display:"none"});var r=function(){i.utils.css(t.iframe,{display:"block"})};if(t.iframe.attachEvent){t.iframe.attachEvent("onload",r)}else{t.iframe.onload=r}i.utils.prepend(t.iframe,t.display);i.Froogaloop(t.iframe.id).addEvent("ready",function(){t.player=i.Froogaloop(t.iframe.id);t.events.playerReady.dispatch(t.player);t.player.addEvent("finish",o)})})}function s(e){var t=["url","width","maxwidth","height","maxheight","byline","title","portrait","color","callback","autoplay","loop","xhtml","api","wmode","iframe","player_id"];for(var i=0;i<t.length;i++){var n=t[i];if(a.hasOwnProperty(n)){e[n]=a[n]}}return e}function o(e){var i;switch(a.repeat){case"list":i=a.item+1;if(i<n.length){t.playlistItem(i,true)}break;case"always":i=a.item+1;if(i>=n.length){i=0}t.playlistItem(i,true);break;case"single":t.play();break}}this.playlistItem=function(e,t){a.item=e;this.pause();i.utils.css(this.iframe,{display:"none"});if(typeof t==="boolean"){a.autoplay=t}var r=n[e];var l="http://player.vimeo.com/video/"+r.id+"?";var s=["byline","title","portrait","color","autoplay","loop","api","player_id"];for(var o=0;o<s.length;o++){var u=s[o];if(a.hasOwnProperty(u)){var f=a[u];if(typeof f==="boolean")f=f?1:0;l+=encodeURIComponent(u)+"="+encodeURIComponent(f)+"&"}}if(this.iframe){this.iframe.src=l.slice(0,-1)}this.events.playlistItem.dispatch(r,e)};this.playlistNext=function(e){var t=a.item+1;if(t>=n.length){t=0}this.playlistItem(t,e)};this.playlistPrev=function(e){var t=a.item-1;if(t<0){t=n.length-1}this.playlistItem(t,e)};this.play=function(){if(this.player){this.player.api("paused",function(e,i){if(e===true)t.player.api("play")})}};this.pause=function(){if(this.player){this.player.api("paused",function(e,i){if(e===false)t.player.api("pause")})}};this.onPlay=function(e){if(this.player)this.player.addEvent("play",e)};this.onPause=function(e){if(this.player)this.player.addEvent("pause",e)};this.onFinish=function(e){if(this.player)this.player.addEvent("finish",e)};this.getPlugin=function(e){return this.plugins[e]};this.getPlaylist=function(){return n}};e.vimeowrap=i})(window);(function(e){e.playlistloader=function(t){var i=this;var n=0;var a=[];this.load=function(e){i.list=r(e);l();return a};function r(e){for(var t=0;t<e.length;t++){var i="vimeo.com/api/v2/";e[t]=e[t].replace(/vimeo.com\/(\d+)$/i,i+"video/$1.json");e[t]=e[t].replace(/vimeo.com\/([A-Z0-9]+)([\?A-Z0-9=]*)$/i,i+"$1/videos.json$2");e[t]=e[t].replace(/vimeo.com\/groups\/([A-Z0-9]+)([\?A-Z0-9=]*)$/i,i+"group/$1/videos.json$2");e[t]=e[t].replace(/vimeo.com\/channels\/([A-Z0-9]+)([\?A-Z0-9=]*)$/i,i+"channel/$1/videos.json$2");e[t]=e[t].replace(/vimeo.com\/album\/([A-Z0-9]+)([\?A-Z0-9=]*)$/i,i+"album/$1/videos.json$2")}return e}function l(){e.utils.jsonp(i.list[n++],{},s)}function s(e){a=a.concat(e);if(n<i.list.length){l()}else{t.events.playlist.dispatch(a);t.events.playlist.remove()}}}})(vimeowrap);(function(e){e.utils=function(){};e.utils.jsonp=function(t,i,n){var a=t.indexOf("?")===-1?"?":"&";i=i||{};for(var r in i){if(i.hasOwnProperty(r)){a+=encodeURIComponent(r)+"="+encodeURIComponent(i[r])+"&"}}var l=e.utils.uniqueId("json_call");window[l]=function(e){n(e);window[l]=null};var s=document.createElement("script");s.src=t+a+"callback="+l;s.async=true;s.onload=s.onreadystatechange=function(){if(!this.readyState||this.readyState==="loaded"||this.readyState==="complete"){s.onload=s.onreadystatechange=null;if(s&&s.parentNode){s.parentNode.removeChild(s)}}};var o=document.head||document.getElementsByTagName("head")[0]||document.documentElement;o.insertBefore(s,o.firstChild)};e.utils.extend=function(e,t){for(var i in t){if(t[i]&&t[i].constructor&&t[i].constructor===Object){e[i]=e[i]||{};arguments.callee(e[i],t[i])}else{e[i]=t[i]}}return e};e.utils.css=function(e,t,i){if(e){for(var n in t){try{if(typeof t[n]==="undefined"){continue}else if(typeof t[n]=="number"&&!(n=="zIndex"||n=="opacity")){if(isNaN(t[n])){continue}t[n]=Math.ceil(t[n])+"px"}e.style[n]=t[n]}catch(a){}}}};e.utils.prepend=function(e,t){if(t.firstChild){t.insertBefore(e,t.firstChild)}else{t.appendChild(e)}};var t=0;e.utils.uniqueId=function(e){var i=t++;return e?e+i:i}})(vimeowrap);if(!Array.indexOf){Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++){if(this[t]==e){return t}}return-1}}String.prototype.populate=function(e,t){return this.replace(/\{\{\s*([^|\s}]+)\|?([^\s}]*)\s*\}\}/g,function(i,n,a){var r=e[n];if(typeof r!=="undefined"){if(t&&a){var l=a.split("|");for(var s=0;s<l.length;s++){var o=l[s].split(":")[0];var u=l[s].split(":")[1];var f=u?u.split(","):[];f.unshift(r);if(typeof t[o]==="function"){r=t[o].apply(r,f)}}}return r}else{return i}})};(function(e){e.signal=function(){var e=[];this.add=function(t){e.push(t)};this.dispatch=function(){var t=Array.prototype.slice.call(arguments);for(var i=0;i<e.length;i++){if(typeof e[i]==="function"){e[i].apply(this,t)}}};this.remove=function(t){if(t){for(var i=0;i<e.length;i++){if(e[i]===t){e.splice(i,1);i--}}}else{e=[]}}}})(vimeowrap);(function(e){function t(e){return new t.fn.init(e)}var i={},n=false,a=false,r=Array.prototype.slice,l="";t.fn=t.prototype={element:null,init:function(e){if(typeof e==="string"){e=document.getElementById(e)}this.element=e;l=p(this.element.getAttribute("src"));return this},api:function(e,t){if(!this.element||!e){return false}var i=this,n=i.element,a=n.id!==""?n.id:null,r=!c(t)?t:null,l=c(t)?t:null;if(l){u(e,l,a)}s(e,r,n);return i},addEvent:function(e,t){if(!this.element){return false}var i=this,n=i.element,r=n.id!==""?n.id:null;u(e,t,r);if(e!="ready"){s("addEventListener",e,n)}else if(e=="ready"&&a){t.call(null,r)}return i},removeEvent:function(e){if(!this.element){return false}var t=this,i=t.element,n=i.id!==""?i.id:null,a=h(e,n);if(e!="ready"&&a){s("removeEventListener",e,i)}}};function s(e,t,i){if(!i.contentWindow.postMessage){return false}var n=i.getAttribute("src").split("?")[0],a=JSON.stringify({method:e,value:t});if(n.substr(0,2)==="//"){n=window.location.protocol+n}i.contentWindow.postMessage(a,n)}function o(e){var t,i;try{t=JSON.parse(e.data);i=t.event||t.method}catch(n){}if(i=="ready"&&!a){a=true}if(typeof t==="undefined"){return false}if(e.origin!=l){return false}var r=t.value,s=t.data,o=o===""?null:t.player_id,u=f(i,o),h=[];if(!u){return false}if(r!==undefined){h.push(r)}if(s){h.push(s)}if(o){h.push(o)}return h.length>0?u.apply(null,h):u.call()}function u(e,t,n){if(n){if(!i[n]){i[n]={}}i[n][e]=t}else{i[e]=t}}function f(e,t){if(t){return i[t][e]}else{return i[e]}}function h(e,t){if(t&&i[t]){if(!i[t][e]){return false}i[t][e]=null}else{if(!i[e]){return false}i[e]=null}return true}function p(e){if(e.substr(0,2)==="//"){e=window.location.protocol+e}var t=e.split("/"),i="";for(var n=0,a=t.length;n<a;n++){if(n<3){i+=t[n]}else{break}if(n<2){i+="/"}}return i}function c(e){return!!(e&&e.constructor&&e.call&&e.apply)}function d(e){return toString.call(e)==="[object Array]"}t.fn.init.prototype=t.fn;if(window.addEventListener){window.addEventListener("message",o,false)}else{window.attachEvent("onmessage",o)}return e.Froogaloop=e.$f=t})(vimeowrap)